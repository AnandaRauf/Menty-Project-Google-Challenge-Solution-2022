<html>
<head>
<script>

	alert("Welcome to Medison(Menty Disease Detection)");

</script>

<meta name="author" content="Ananda Rauf Maududi,Hars Sharma"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="Content-Type" content="HTML,CSS,JAVASCRIPT; charset=utf-8"/>
<meta name="keywords" content="html,css,js" />
<meta name=keywords" content="Menty,menty,mently healhty,Mently Healthy,Disease Detection,Personal Assistant, personal assistant,disease detection,disease"/>
<meta name="description" content="Menty Mently Healthy projects Personal Assistant and Disease Detection" />
<link rel="canonical" href="https://menty.000webhostapp.com/menty"/>
<link rel="stylesheet" href="css/index.css" type="text/css"/>
<link rel="icon" href="asset/favicon.ico" type="image/x-icon"/>
<!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"
      rel="stylesheet"
    />

</head>
<title>Menty - Medison(Menty Disease Detection)</title>

<body>
<script>
    // disable right click
    document.addEventListener('contextmenu', event => event.preventDefault());

    document.onkeydown = function (e) {

        // disable F12 key
        if(e.keyCode == 123) {
            return false;
        }

        // disable I key
        if(e.ctrlKey && e.shiftKey && e.keyCode == 73){
            return false;
        }

        // disable J key
        if(e.ctrlKey && e.shiftKey && e.keyCode == 74) {
            return false;
        }

        // disable U key
        if(e.ctrlKey && e.keyCode == 85) {
            return false;
        }
    }

</script>
	<script src="js/index.js"></script>
	<!-- <iframe src="https://teachablemachine.withgoogle.com/models/XM2Ie5TdV/"></iframe> -->
	<main>
	<h1 class="title_h1">Medison(Menty Disease Detection)</h1>
  <section class="image-section">
    <img src="" id="image" />
  </section>

  <section class="file-section">
    <div class="file-group">
      <label for="file-input">Upload Picture</label>
      <input type="file" id="file-input" accept="image/*" name="image" onchange="loadFile(event)" style="display: none;">
      

      
      	
      
    </div>
  </section>
  <br>
  <a href="https://teachablemachine.withgoogle.com/models/XM2Ie5TdV/"><button>Visit Cloud data model trained Teachable Machine</button></a>
</main>
<div id="webcam-container"></div>
<div id="label-container"></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">
	var loadFile = function(event){
	   var image = document.getElementById('output');
	   image.src = URL.createObjectURL(event.target.files[0]);
       };
const URL = "./my_model/";
let model, labelContainer, maxPredictions;
// Load the image model and setup the webcam
    async function init() {
        const modelURL = URL + "datamodel/model.json";
        const metadataURL = URL + "datamodel/metadata.json";

        // load the model and metadata
        // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
        // or files from your local hard drive
        // Note: the pose library adds "tmImage" object to your window (window.tmImage)
        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();
        labelContainer = document.getElementById("label-container");
        for (let i = 0; i < maxPredictions; i++) { // and class labels
            labelContainer.appendChild(document.createElement("div"));
        }
    }
    // run the webcam image through the image model
    async function predict() {
        // predict can take in an image, video or canvas html element
        const prediction = await model.predict(loadFile(event));
        for (let i = 0; i < maxPredictions; i++) {
            const classPrediction =
                prediction[i].className + ": " + prediction[i].probability.toFixed(2);
            labelContainer.childNodes[i].innerHTML = classPrediction;
        }
    }
</script>
</body>
</html>
